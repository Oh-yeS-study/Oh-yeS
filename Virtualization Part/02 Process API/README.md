# Virtualization 
## 02 Process API

---
## Q&A
### 만약, `fork()` 없이 `wait()`을 사용하면 어떻게 될까❓
`statloc`의 값이 -1을 갖게 된다. 그 해당 상태에 해당하는 경우는 자식이 없는 `ECHILD`, 시스템콜이 인터럽트된 `EINTR` 이다.

### 비결정성(nondeterminism)이란 무엇일까❓
멀티 쓰레드 프로그램 실행시, 어떤 프로그램이 실행되는 지는 CPU 스케쥴러에 의해 결정된다. 그런데 이 스케쥴러의 동작은 매우 복잡하고 상황에 따라 다르게 동작하기 때문에 스케줄링될 프로세스가 달라지므로, 비결정성이란 어떤 프로세스가 먼저 수행될 것인지 결정할 수 없는 성질을 말한다.

프로세스의 생성 순서와 상관 없이 프로세스의 실행 순서는 항상 동일하지 않는데 이러한 성질을 비결정성이라고 한다. 항상 같은 결과가 있으리라 단정 짓기 어렵다.

### `fork()` 수행시, `fork()` 위의 영역은 실행되지 않는 이유는 무엇일까❓
![스크린샷 2022-11-11 오후 10 53 46](https://user-images.githubusercontent.com/13804810/201354442-5376ba64-5450-47ea-ba38-df534d4a68a9.png)

`fork()`를 수행하면, 부모 프로세스의 주소 공간부터 레지스터까지 모든 것이 똑같이 복사된다. 그리고 그 과정 중에 PC(Program Counter) 값 역시 함께 복사된다.
그래서 자식 프로세스도 `fork()` 윗 부분의 코드는 수행하지 않고, 그 아래부터 수행하는 것이다.
